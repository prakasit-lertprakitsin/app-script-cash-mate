<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-12">
      <button class="btn btn-outline-secondary hover:text-secondary btn-sm mb-4" onclick="showPage('dashboardPage')">
        <i class="bi bi-arrow-left"></i> ย้อนกลับ
      </button>

      <div class="card">
        <div
          class="card-header bg-primary text-white d-flex align-items-center justify-content-between"
        >
          <h4 class="mb-0">
            <i class="bi bi-tags me-2"></i>
            จัดการหมวดหมู่
          </h4>
          <button class="btn btn-success" type="button" id="addCategoryBtn">
            <i class="bi bi-plus-circle me-1"></i> เพิ่มหมวดหมู่
          </button>
        </div>
        <div class="card-body">
          <!-- Filter by Type -->
          <form class="row g-3 mb-4" id="categoryTypeForm">
            <div class="col-md-3">
              <label for="categoryType" class="form-label">ประเภท</label>
              <select class="form-select" id="categoryType" name="categoryType">
                <option value="income">รายรับ</option>
                <option value="expense">รายจ่าย</option>
                <option value="cost">ต้นทุน</option>
              </select>
            </div>
          </form>

          <!-- Categories Table -->
          <div class="table-responsive" style="min-height: 300px;">
            <table class="table align-middle mb-0">
              <thead>
                <tr>
                  <th class="text-nowrap"  style="min-width: 200px">ชื่อหมวดหมู่</th>
                  <th class="text-nowrap"  style="min-width: 200px">รายละเอียด</th>
                  <th class="text-nowrap"  style="min-width: 200px">หมายเหตุ</th>
                  <th class="text-center text-nowrap" style="min-width: 136px">
                    การจัดการ
                  </th>
                </tr>
              </thead>
              <tbody id="categoriesTableBody">
                <tr class="empty-state">
                  <td colspan="4">
                    <i class="bi bi-inbox"></i>
                    <h5>ยังไม่มีหมวดหมู่</h5>
                    <p>ยังไม่มีข้อมูลหมวดหมู่ในประเภทนี้</p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Add Category -->
<div
  class="modal fade"
  id="addCategoryModal"
  tabindex="-1"
  aria-labelledby="addCategoryModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="addCategoryForm">
        <div class="modal-header">
          <h5 class="modal-title" id="addCategoryModalLabel">
            <i class="bi bi-plus-circle me-2"></i>เพิ่มหมวดหมู่ใหม่
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="newCategoryName" class="form-label"
              >ชื่อหมวดหมู่ <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="newCategoryName"
              name="name"
              required
            />
          </div>
          <div class="mb-3">
            <label for="newCategoryDescription" class="form-label"
              >รายละเอียด</label
            >
            <input
              type="text"
              class="form-control"
              id="newCategoryDescription"
              name="description"
            />
          </div>
          <div class="mb-3">
            <label for="newCategoryNote" class="form-label">หมายเหตุ</label>
            <input
              type="text"
              class="form-control"
              id="newCategoryNote"
              name="note"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            ยกเลิก
          </button>
          <button type="submit" class="btn btn-success">บันทึก</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal: Edit Category -->
<div
  class="modal fade"
  id="editCategoryModal"
  tabindex="-1"
  aria-labelledby="editCategoryModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="editCategoryForm">
        <div class="modal-header">
          <h5 class="modal-title" id="editCategoryModalLabel">
            <i class="bi bi-pencil me-2"></i>แก้ไขหมวดหมู่
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="editCategoryId" name="id" />
          <div class="mb-3">
            <label for="editCategoryName" class="form-label"
              >ชื่อหมวดหมู่ <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="editCategoryName"
              name="name"
              required
            />
          </div>
          <div class="mb-3">
            <label for="editCategoryDescription" class="form-label"
              >รายละเอียด</label
            >
            <input
              type="text"
              class="form-control"
              id="editCategoryDescription"
              name="description"
            />
          </div>
          <div class="mb-3">
            <label for="editCategoryNote" class="form-label">หมายเหตุ</label>
            <input
              type="text"
              class="form-control"
              id="editCategoryNote"
              name="note"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            ยกเลิก
          </button>
          <button type="submit" class="btn btn-warning">บันทึกการแก้ไข</button>
        </div>
      </form>
    </div>
  </div>
</div>
